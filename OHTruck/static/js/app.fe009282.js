(function(t){function n(n){for(var o,r,s=n[0],d=n[1],l=n[2],p=0,u=[];p<s.length;p++)r=s[p],a[r]&&u.push(a[r][0]),a[r]=0;for(o in d)Object.prototype.hasOwnProperty.call(d,o)&&(t[o]=d[o]);c&&c(n);while(u.length)u.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,n=0;n<i.length;n++){for(var e=i[n],o=!0,s=1;s<e.length;s++){var d=e[s];0!==a[d]&&(o=!1)}o&&(i.splice(n--,1),t=r(r.s=e[0]))}return t}var o={},a={app:0},i=[];function r(n){if(o[n])return o[n].exports;var e=o[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=o,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)r.d(e,o,function(n){return t[n]}.bind(null,o));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=n,s=s.slice();for(var l=0;l<s.length;l++)n(s[l]);var c=d;i.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"120f":function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},"1ee7":function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,"\n.orderbubble[data-v-5524bed6]{\n\tbackground-color:blue;\n\twidth:20px;\n\tdisplay:inline-block;\n\tborder-radius:50%;\n\tcolor:white;\n}\n.mapwrapper[data-v-5524bed6]{\n}\n.map[data-v-5524bed6]{\n\theight:300px;\n\twidth:500px;\n\tborder: 1px solid black;\n}\n",""])},"23bf":function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,"\n.window[data-v-5f461b0e]{\n\tmargin:50px;\n}\n.fieldheader[data-v-5f461b0e]{\n\tmargin-left:20px;\n}\n.fielditem[data-v-5f461b0e]{\n\tmargin-left:40px;\n}\n#oldDonMenu[data-v-5f461b0e],#newDonMenu[data-v-5f461b0e]{\n\tbackground-color:#eeeeee;\n\tmargin-left:10px;\n\tpadding:10px;\n}\n#addnewdon[data-v-5f461b0e]{\n\tdisplay:inline-block;\n\twidth:20px;\n\theight:20px;\n\tvertical-align:middle;\n\tbackground-color:red;\n}\n",""])},"2a6b":function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,'\n.order[data-v-08036288]{\n  font-size:30px;\n  color:black;\n}\n.card[data-v-08036288]{\nbackground-color:#dddddd;\nborder:10px solid #999999;\nposition:relative;\nmin-width: 100px;\nmax-width: 300px;\n-webkit-box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);\n        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);\n-webkit-transition: 0.3s;\ntransition: 0.3s;\nborder-radius: 50px;\nmargin:9px;\npadding:15px 3px;\n}\n.donor[data-v-08036288]{\n  border-radius:5px;\n}\n.phone[data-v-08036288] {\n  color: #42b983;\n}\n.phone[data-v-08036288]:before{\n  content:"";\n  display:inline;\n  width:10px;\n  height:10px;\n  color:#ff0000;\n}\n.donorinfo[data-v-08036288]{\n  padding:10px 50px;\n  background-color:#cdcdcd;\n  display:none;\n  border:1px dashed white;\n  border-radius:8px;\n}\n.hidebtn[data-v-08036288]{\n  background-color:#f2ed4e;\n}\n.delbtn[data-v-08036288]{\n  background-color:#ff0000;\n}\n.responsediv[data-v-08036288]{\n  display:none;\n}\n',""])},"32d4":function(t,n,e){var o=e("ada2");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=e("2fb2").default;a("64b0e831",o,!0,{})},5699:function(t,n,e){var o=e("2a6b");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=e("2fb2").default;a("d8d3507a",o,!0,{})},"56d7":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("f751"),e("097d");var o=e("a026"),a={name:"DonorCard",props:{donor:{type:Object,required:!0}},data:function(){return{donor:donor}}},i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"card"},[e("b",{staticClass:"name"},[t._v(" "+t._s(t.donor.lastname)+", "+t._s(t.donor.firstname))]),t._v(" "),e("p"),t._v(" "),e("i",{staticClass:"address"},[t._v(" "+t._s(t.donor.address))]),e("p"),t._v(" "),e("u",{staticClass:"phone"},[t._v(" "+t._s(t.donor.phone))]),t._v(" "),e("i",[t._v("Number of Donations from this donor")])])},r=[],s=e("2455");function d(t){e("faa9")}var l=!1,c=d,p="data-v-15ffc494",u=null,v=Object(s["a"])(a,i,r,l,c,p,u),f=v.exports,m=(e("c5f6"),e("db0c")),h=e.n(m),b=e("cebc"),_={name:"EditLine",props:{str:{type:String,required:!0}},beforeMount:function(){this.line={title:this.str,edit:!1}},data:function(){return{line:{}}},methods:{},computed:{}},g=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.line.edit,expression:"line.edit==false"}]},[e("label",{on:{dblclick:function(n){t.line.edit=!0}}},[t._v("\n\t\t\t"+t._s(t.line.title)+" \n\t\t")])]),t._v(" "),e("input",{directives:[{name:"show",rawName:"v-show",value:1==t.line.edit,expression:"line.edit==true"},{name:"model",rawName:"v-model",value:t.line.title,expression:"line.title"}],domProps:{value:t.line.title},on:{blur:function(n){t.line.edit=!1,t.$emit("update")},keyup:[function(n){if(!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter"))return null;t.line.edit=!1,t.$emit("update")},function(n){if(!n.type.indexOf("key")&&t._k(n.keyCode,"esc",27,n.key,["Esc","Escape"]))return null;t.line.edit=!1,t.$emit("update")}],input:function(n){n.target.composing||t.$set(t.line,"title",n.target.value)}}})])},y=[];function w(t){e("32d4")}var x=!1,S=w,k="data-v-74bb2464",O=null,E=Object(s["a"])(_,g,y,x,S,k,O),D=E.exports,C=e("2f62"),T={name:"StopCard",created:function(){this.stop.ScheduledTrip&&this.getCode()},components:{EditLine:D},props:{stopid:{type:Number,required:!0}},computed:{stop:{get:function(){return this.filterStop()[0]},set:function(t,n){console.log(t),this.updateStop(t)}}},methods:Object(b["a"])({},Object(C["b"])(["geoCode","updateStop"]),{filterStop:function(t){var n=this;return this.$store.state.stops.filter(function(t){return t.id==n.stopid})},getCode:function(t){var n=this;this.geoCode(this.stop.Donor.Address).then(function(t){n.stop["Donor"]["pos"]=h()(t.data)[0]})},showCancel:function(t){this.$modal.show("CancelWarning")},toggleDon:function(t){var n=document.getElementById("donorinfo "+t);"none"==n.style.display?n.style.display="inline-block":n.style.display="none"}})},N=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"card"},[t.stop.ScheduledOrder?e("div",{staticClass:"order"},[t._v("#"+t._s(t.stop.ScheduledOrder)),e("br")]):t._e(),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.stop.ScheduledTrip,expression:"stop.ScheduledTrip"}],on:{change:function(n){var e=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){var n="_value"in t?t._value:t.value;return n});t.$set(t.stop,"ScheduledTrip",n.target.multiple?e:e[0])}}},[e("option",{domProps:{value:null}},[t._v("Unscheduled")]),t._v(" "),t._l(t.$store.state.trips,function(n){return e("option",{domProps:{value:n.id}},[t._v(t._s(n.Date))])})],2),t._v(" "),null!=t.stop.ScheduledTrip?e("div",[e("edit-line",{attrs:{str:t.stop.Donor.Firstname}}),t._v(" "),e("edit-line",{attrs:{str:t.stop.Donor.Address}})],1):e("div",[t.stop.Donor?e("div",[e("button",{staticClass:"donor",attrs:{id:t.stop.inputtime},on:{click:function(n){return t.toggleDon(t.stop.Donor.id)}}},[t._v(" "+t._s(t.stop.Donor.Firstname)+", "+t._s(t.stop.Donor.Lastname))]),e("p"),t._v(" "),e("div",{staticClass:"donorinfo",staticStyle:{display:"inline-block"},attrs:{id:"donorinfo "+t.stop.Donor.id}},[e("i",{staticClass:"address"},[t._v(t._s(t.stop.Donor.Address))]),e("p"),t._v(" "),e("u",{staticClass:"phone"},[t._v(" "+t._s(t.stop.Donor.Phone))]),e("p")]),e("p")]):t._e()])])},P=[];function $(t){e("5699")}var A=!1,M=$,R="data-v-08036288",I=null,j=Object(s["a"])(T,N,P,A,M,R,I),L=j.exports,F=e("75fc"),U=e("2699"),J=e("a40a"),q=e("4e2b"),B=e("31dc"),z=e("635f"),G={name:"mapmodule",props:{tripid:{type:Array,required:!1},waypoints:{type:Array,required:!1}},components:{LMap:U["a"],LTileLayer:J["a"],LMarker:q["a"],LTooltip:B["a"],LPolyline:z["a"]},data:function(){return{ohlatlon:{lat:38.353184,lng:-121.975337},shelterlatlon:[38.366197,-121.976714],mapdata:{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",zoom:13,attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'},mintime:null,routes:null,tripgeoms:[]}},updated:function(){},computed:{stops:function(){var t=this;return this.$store.state.stops.filter(function(n){return n.ScheduledTrip==t.tripid})},orderedwaypoints:function(){if(null!=this.mintime){var t=[{pos:this.ohlatlon}].concat(Object(F["a"])(this.waypoints)),n=[];for(var e in this.mintime)n.push(t[this.mintime[e]]["pos"]);return n.push(n[0]),n}return[]}},methods:{mindist:function(t){var n=this,e=[this.ohlatlon];for(var o in this.stops)try{e.push(this.stops[o]["Donor"]["pos"])}catch(a){console.log(this.waypoints)}this.$store.dispatch("minDist",e).then(function(t){var e=[],o=t["waypts"];for(var a in o){var i=o[a]["waypoint_index"];e.push(i),i>0&&(n.stops[i-1]["ScheduledOrder"]=a)}var r=[];for(var s in t["trips"]){var d=t["trips"][s]["geometry"]["coordinates"];for(var l in d)r.push({lng:d[l][0],lat:d[l][1]});n.waypoints[s]["dist"]=t["trips"][s]["distance"]}n.tripgeoms=r,n.$emit("ordered",e),n.$store.dispatch("nestOrders",e),n.mintime=e}).catch(function(t){return console.log(t)})}}},H=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"modwrapper"},[t._l(t.stops,function(t){return e("div")}),t._v(" "),e("div",{staticClass:"mapwrapper"},[e("l-map",{staticClass:"map",attrs:{zoom:t.mapdata.zoom,center:t.ohlatlon}},[e("l-tile-layer",{attrs:{url:t.mapdata.url,attribution:t.mapdata.attribution}}),t._v(" "),e("l-marker",{attrs:{"lat-lng":t.ohlatlon}},[e("l-tooltip",{attrs:{content:"Thrift Store"}})],1),t._v(" "),t._l(t.stops,function(n){return e("div",[n.Donor.pos?e("l-marker",{attrs:{"lat-lng":n.Donor.pos}},[e("l-tooltip",{attrs:{content:n.Donor.Address+" ("+n.Donor.Firstname+" "+n.Donor.Lastname+") "}})],1):t._e()],1)}),t._v(" "),e("l-polyline",{attrs:{"lat-lngs":t.tripgeoms,color:"orange",fillOpacity:0}})],2)],1),t._v(" "),e("input",{attrs:{type:"button",value:"Order Route by minimum trip time"},on:{click:t.mindist}}),e("p")],2)},W=[];function V(t){e("5cbe")}var Y=!1,K=V,Q="data-v-5524bed6",X=null,Z=Object(s["a"])(G,H,W,Y,K,Q,X),tt=Z.exports,nt=e("1980"),et=e.n(nt),ot={components:{StopCard:L,draggable:et.a,MapModule:tt},name:"TripCard",props:{trip:{type:Object,required:!0},triplen:{type:Number,required:!1,default:10}},data:function(){return{}},computed:{adds:function(){var t={};for(var n in this.stops){var e=this.stops[n];t[n]=e.Donor.Address}return t},seltruck:{get:function(){return this.trip.Truck},set:function(t){this.trip.Truck=t}},emps:{get:function(){return this.$store.state.employees},set:function(){}},stops:function(){return this.filterStops()},geocodes:{get:function(){var t=this.$store.state.geocodes;return t},set:function(){}},waypoints:function(){var t=[];for(var n in this.stops){var e=this.adds[n],o=this.geocodes[e];t.push({add:e,pos:o,ord:this.stops[n].ScheduledOrder})}return t},trucks:{get:function(){return this.$store.state.trucks}}},methods:{orderstops:function(t){for(var n in t.length-1)console.log(this.waypoints[t[n]]["ord"]),this.waypoints[t[n]]["ord"]=n},testfn:function(t,n){console.log(t)},filterStops:function(t){var n=this,e=this.$store.state.stops.filter(function(t){return t.ScheduledTrip==n.trip.id});return e},onMove:function(t){var n=t.relatedContext;t.draggedContext;console.log(n.element)},toggleFilled:function(t,n){console.log(t),"tripslot empty"==t.target.className?t.target.className="tripslot filled":(t.target.className="tripslot empty",console.log(t.detail))},slotdbl:function(t){this.$emit("slotdbl",t.target.id)}}},at=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"trip"},[e("b",{staticClass:"tripdate"},[t._v(t._s(t.trip.Date))]),e("p"),t._v(" "),e("div",{staticClass:"tripcontent"},[e("draggable",{attrs:{list:t.trip,move:t.toggleFilled}},[t._l(t.stops,function(t,n){return e("stop-card",{key:t.id,attrs:{stopid:t.id}})}),t._v(" "),t._l(t.triplen-t.stops.length,function(n){return e("div",{key:n.id,staticClass:"tripgrid"},[e("div",{staticClass:"tripslot empty",attrs:{id:n},on:{dblclick:t.slotdbl,click:function(n){return n.shiftKey?t.toggleFilled(n):null}}},[e("div",{staticClass:"slotcontents"})])])}),t._v(" "),e("button",[t._v("+")])],2)],1),t._v(" "),e("map-module",{staticClass:"tripmap",attrs:{waypoints:t.waypoints,tripid:t.trip["id"]},on:{ordered:t.orderstops}}),t._v(" "),t._m(0)],1)},it=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"tripbtns"},[e("input",{staticClass:"savebtn",attrs:{type:"button",value:"Save Trip Order"}})])}];function rt(t){e("b6dd")}var st=!1,dt=rt,lt="data-v-a60d6b8e",ct=null,pt=Object(s["a"])(ot,at,it,st,dt,lt,ct),ut=pt.exports,vt={props:{},data:function(){return{newdon:{firstname:"",lastname:"",address:"",phone:"",email:"",other:""},olddon:{phone:"",email:""}}}},ft=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("h3",[t._v("Add New Donor")]),t._v(" "),e("div",{staticClass:"fieldheader"},[t._v("\n\tDonor Name:")]),e("div",{staticClass:"fielditem"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newdon.firstname,expression:"newdon.firstname"}],attrs:{type:"text",placeholder:"First Name",id:"FirstName"},domProps:{value:t.newdon.firstname},on:{input:function(n){n.target.composing||t.$set(t.newdon,"firstname",n.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newdon.lastname,expression:"newdon.lastname"}],attrs:{type:"text",placeholder:"Last Name",id:"LastName"},domProps:{value:t.newdon.lastname},on:{input:function(n){n.target.composing||t.$set(t.newdon,"lastname",n.target.value)}}})]),e("p"),t._v(" "),e("div",{staticClass:"fieldheader"},[t._v("\n\tDonor Address:")]),e("div",{staticClass:"fielditem"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newdon.address,expression:"newdon.address"}],attrs:{type:"text",placeholder:"Address",id:"Address"},domProps:{value:t.newdon.address},on:{input:function(n){n.target.composing||t.$set(t.newdon,"address",n.target.value)}}})]),e("p"),t._v(" "),e("div",{staticClass:"fieldheader"},[t._v("\n\tDonor Phone:")]),e("div",{staticClass:"fielditem"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newdon.phone,expression:"newdon.phone"}],attrs:{type:"tel",placeholder:"Phone Number",id:"Phone"},domProps:{value:t.newdon.phone},on:{input:function(n){n.target.composing||t.$set(t.newdon,"phone",n.target.value)}}})]),e("p"),t._v(" "),e("div",{staticClass:"fieldheader"},[t._v("\n\tDonor Email:")]),e("div",{staticClass:"fielditem"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newdon.email,expression:"newdon.email"}],attrs:{type:"email",placeholder:"Email",id:"Email"},domProps:{value:t.newdon.email},on:{input:function(n){n.target.composing||t.$set(t.newdon,"email",n.target.value)}}})]),e("p"),t._v(" "),e("div",{staticClass:"fieldheader"},[t._v("\n\tOther Info:")]),e("div",{staticClass:"fielditem"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newdon.other,expression:"newdon.other"}],attrs:{rows:"4",cols:"40",id:"Other",placeholder:"Special Instructions for contacting this donor"},domProps:{value:t.newdon.other},on:{input:function(n){n.target.composing||t.$set(t.newdon,"other",n.target.value)}}})])])},mt=[];function ht(t){e("c685")}var bt=!1,_t=ht,gt=null,yt=null,wt=Object(s["a"])(vt,ft,mt,bt,_t,gt,yt),xt=wt.exports,St={props:{trip:{type:Object,required:!1},trippos:{type:Object,required:!1}},components:{"new-donor-form":xt},computed:{donors:function(){return this.$store.state.data.donors}},data:function(){return{oldDon:!1,newstop:{items:"",donorid:""}}},methods:{testfn:function(){alert("test")},commitStop:function(t){alert(t),this.$store.dispatch(this.$store,t)},toggleDon:function(){var t=document.getElementById("oldDonMenu"),n=document.getElementById("newDonMenu");"none"==t.style.display?(t.style.display="block",n.style.display="none"):(t.style.display="none",n.style.display="block")},validateDonor:function(){var t=document.getElementById("FirstName"),n=document.getElementById("LastName"),e=document.getElementById("Phone"),o=document.getElementById("Address"),a=document.getElementById("Email"),i=document.getElementById("Other"),r={firstname:t.value,lastname:n.value,address:o.value,phone:e.value,email:a.value,other:i.value},s=document.getElementById("Itemdesc"),d={inputtime:1234,stoptype:"pickup",status:"Unmarked",hidden:"false",items:s,donor:r};this.$store.dispatch("addStop",this.$store,d),alert(d)}}},kt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("h1",{staticClass:"title"},[t._v("Add New Stop ")]),t._v(" "),e("form",[t.loc?e("div",{attrs:{id:"window"}},[t._v(t._s(t.loc))]):t._e(),t._v(" "),e("div",{staticClass:"fieldheader"},[t._v("\nDescription of Items:\n")]),t._v(" "),e("div",{staticClass:"fielditem"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newstop.items,expression:"newstop.items"}],attrs:{rows:"4",cols:"50",id:"Itemdesc"},domProps:{value:t.newstop.items},on:{input:function(n){n.target.composing||t.$set(t.newstop,"items",n.target.value)}}})]),e("p"),t._v(" "),e("div",{staticClass:"fieldheader"},[t._v("\nDonor has donated before:\n"),e("div",{staticClass:"fielditem"},[e("button",{attrs:{id:"oldDonor"},on:{click:t.toggleDon}},[t._v("toggle")])])]),e("p"),t._v(" "),e("div",{staticStyle:{display:"none"},attrs:{id:"oldDonMenu"}},[e("h3",[t._v("Lookup Donor by:")]),e("p"),t._v("\nName:\n"),e("div",{attrs:{id:"donorselect"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.newstop.donorid,expression:"newstop.donorid"}],on:{change:function(n){var e=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){var n="_value"in t?t._value:t.value;return n});t.$set(t.newstop,"donorid",n.target.multiple?e:e[0])}}},t._l(t.donors,function(n){return e("option",{domProps:{value:n.id}},[t._v(t._s(n.lastname)+", "+t._s(n.firstname)+" - "+t._s(n.phone))])}),0),t._v(" "),e("div",{attrs:{id:"addnewdon"},on:{click:t.testfn}},[t._v("+")])]),t._v(" "),e("div",{staticClass:"fieldheader"},[t._v("\n\t\tPhone: ")]),t._v(" "),t._m(0),e("p"),t._v(" "),e("div",{staticClass:"fieldheader"},[t._v("\n\t\tEmail: ")]),t._v(" "),t._m(1),e("p")]),t._v(" "),e("div",{staticStyle:{display:"block"},attrs:{id:"newDonMenu"}},[e("new-donor-form")],1),t._v(" "),e("br"),t._v(" "),e("button",{on:{click:t.validateDonor}},[t._v("Save")]),t._v(" "),e("button",[t._v("Cancel")])])])},Ot=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"fielditem"},[e("input",{attrs:{type:"tel",placeholder:"phone #"}})])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"fielditem"},[e("input",{attrs:{type:"email",placeholder:"email address"}})])}];function Et(t){e("80af")}var Dt=!1,Ct=Et,Tt="data-v-5f461b0e",Nt=null,Pt=Object(s["a"])(St,kt,Ot,Dt,Ct,Tt,Nt),$t=Pt.exports,At={props:{trip:{type:Object,required:!1},pos:{type:Object,required:!1}},name:"Settings",data:function(){return{backend:"",mapapi:""}},methods:{showRestMenu:function(t){this.$modal.show("REST")},hideRestMenu:function(t){this.$modal.hide("REST")},showJsonMenu:function(t){this.$modal.show("JSON")},hideJsonMenu:function(t){this.$modal.hide("JSON")},showDockerMenu:function(t){this.$modal.show("Docker")},hideDockerMenu:function(t){this.$modal.hide("Docker")},findJSONFile:function(t){}}},Mt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"Settings"},[e("h1",[t._v("Settings")]),t._v(" "),e("b",{staticClass:"settingsheader"},[t._v("Backend:")]),t._v(" "),e("div",{staticClass:"settingssub"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.backend,expression:"backend"}],staticClass:"backrad",attrs:{type:"radio",id:"json",value:"JSON"},domProps:{checked:t._q(t.backend,"JSON")},on:{click:t.showJsonMenu,change:function(n){t.backend="JSON"}}}),t._v(" "),e("label",{attrs:{for:"json"}},[t._v("JSON File")]),t._v(" "),e("br"),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.backend,expression:"backend"}],staticClass:"backrad",attrs:{type:"radio",id:"rest",value:"REST"},domProps:{checked:t._q(t.backend,"REST")},on:{click:t.showRestMenu,change:function(n){t.backend="REST"}}}),t._v(" "),e("label",{attrs:{for:"rest"}},[t._v("RESTful API")]),t._v(" "),e("br"),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.backend,expression:"backend"}],staticClass:"backrad",attrs:{type:"radio",id:"docker",value:"Docker"},domProps:{checked:t._q(t.backend,"Docker")},on:{click:t.showDockerMenu,change:function(n){t.backend="Docker"}}}),t._v(" "),e("label",{attrs:{for:"rest"}},[t._v("Docker Container")])]),t._v(" "),e("b",{staticClass:"settingsheader"},[t._v("Map API Backend:")]),e("br"),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.mapapi,expression:"mapapi"}],on:{change:function(n){var e=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){var n="_value"in t?t._value:t.value;return n});t.mapapi=n.target.multiple?e:e[0]}}},[e("option",{staticClass:"backrad",attrs:{value:"OSV"}},[t._v("Open Street View")]),t._v(" "),t._m(0)]),t._v(" "),e("modal",{attrs:{name:"REST"}},[e("div",{attrs:{id:"spacing"}},[e("h1",[t._v("RESTful Endpoints:")]),t._v("\n\tIncoming (Stops):"),e("input",{attrs:{type:"url",placeholder:"Incoming endpoint URL"}}),e("p"),t._v("\n\tOutgoing (Trips):"),e("input",{attrs:{type:"url",placeholder:"Outgoing endpoint URL"}}),e("p"),t._v("\n\t(write/update permissions necessary to save to outgoing endpoint!)"),e("p"),t._v(" "),e("button",{on:{click:t.hideRestMenu}},[t._v("save")]),e("button",{on:{click:t.hideRestMenu}},[t._v("cancel")])])]),t._v(" "),e("modal",{attrs:{name:"JSON"}},[e("div",{attrs:{id:"spacing"}},[e("h1",[t._v("Local JSON File:")]),t._v("\n\tCreate Blank File: "),e("button",[t._v("New")]),e("p"),t._v("\n\tUpload Configured File: "),e("button",[t._v("Select")]),e("p"),t._v(" "),e("button",{on:{click:t.hideJsonMenu}},[t._v("save")]),e("button",{on:{click:t.hideJsonMenu}},[t._v("cancel")])])]),t._v(" "),e("modal",{attrs:{name:"Docker"}},[e("div",{attrs:{id:"spacing"}},[e("h1",[t._v("Docker Configuration:")]),t._v(" "),e("button",{on:{click:t.hideDockerMenu}},[t._v("save")]),e("button",{on:{click:t.hideDockerMenu}},[t._v("cancel")])])]),t._v(" "),e("p"),t._v(" "),e("b",[t._v("Help:")]),t._v(" "),t._m(1)],1)},Rt=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("option",{staticClass:"backrad",attrs:{value:"GM"}},[t._v("Google Maps"),e("br")])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"settingssub"},[e("a",{attrs:{href:"https://github.com/OrgansWithoutBodies/OHPickupAdmin/wiki/Home"}},[t._v("Link to wiki")])])}];function It(t){e("e6c7")}var jt=!1,Lt=It,Ft=null,Ut=null,Jt=Object(s["a"])(At,Mt,Rt,jt,Lt,Ft,Ut),qt=Jt.exports,Bt={name:"FrontEnd",beforeMount:function(){this.$store.dispatch("loadDataFrom")},components:{StopCard:L,DonorCard:f,TripCard:ut,AddNewStop:$t,Settings:qt,draggable:et.a},data:function(){return{version:"0.0.4"}},computed:{dragOptions:function(){return{animation:1,ghostClass:"ghost"}},seltrip:function(){var t=this,n=this.trips.filter(function(n){return n.Date==t.selectedday});return n[0]},selectedday:{get:function(){return this.$store.state.selday},set:function(t){this.$store.dispatch("changeSelTrip",t)}},donors:{get:function(){return this.$store.state.donors},set:function(t){this.$store.dispatch("updateStopList",t)}},stoplist:{get:function(){return this.$store.state.stops},set:function(t){this.$store.dispatch("updateStopList",t)}},trips:function(){return this.$store.state.trips}},methods:{testfn:function(t){},addStopWind:function(t){this.$modal.show("AddNewStop",{pos:t})},commitStop:function(t){this.$store.dispatch(this.$store,t)},showSettings:function(t){this.$modal.show("ShowSettings")},showAbout:function(t){this.$modal.show("aboutPage")},onEnd:function(t){},onMove:function(t){console.log(t.draggedContext.element.id)}}},zt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"test"},[e("div",{staticClass:"tripcontrol"},[e("button",[t._v("◀")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedday,expression:"selectedday"}],on:{change:function(n){var e=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){var n="_value"in t?t._value:t.value;return n});t.selectedday=n.target.multiple?e:e[0]}}},t._l(t.trips,function(n){return e("option",{domProps:{value:n.Date}},[t._v(t._s(n.Date))])}),0),t._v(" "),e("button",[t._v("▶")]),t._v(" "),e("button",[t._v("+")])]),t._v(" "),e("trip-card",{attrs:{trip:t.seltrip},on:{slotdbl:t.addStopWind}}),t._v(" "),e("div",{staticClass:"unassignedbin"},[e("b",[t._v("Unassigned Stops Bin")]),t._v(" "),e("draggable",{staticClass:"bin",attrs:{options:t.dragOptions,move:t.onMove},model:{value:t.stoplist,callback:function(n){t.stoplist=n},expression:"stoplist"}},t._l(t.stoplist,function(n){return null==n.ScheduledTrip?e("div",[e("stop-card",{attrs:{stopid:n.id}})],1):t._e()}),0)],1),t._v(" "),e("button",[t._v(" ... ")]),e("p"),t._v(" "),e("button",{on:{click:t.addStopWind}},[t._v(" Add New Stop ")]),t._v(" "),e("button",[t._v(" Show Hidden Stops")]),e("p"),t._v(" "),e("button",[t._v(" Save Stops for this Trip")]),e("p"),t._v(" "),e("button",{on:{click:t.showSettings}},[t._v(" Show Settings Menu ")]),t._v(" "),e("button",{on:{click:t.showAbout}},[t._v(" About ")]),t._v(" "),e("modal",{staticClass:"newstopwindow",attrs:{name:"AddNewStop",adaptive:!0,height:"auto",scrollable:!0}},[e("div",{attrs:{id:"spacing"}},[e("AddNewStop")],1)]),t._v(" "),e("modal",{attrs:{name:"ShowSettings",adaptive:!0,height:"auto"}},[e("div",{attrs:{id:"spacing"}},[e("Settings")],1)]),t._v(" "),e("modal",{attrs:{name:"aboutPage"}},[e("div",{attrs:{id:"spacing"}},[t._v("\n    Developed by:\n      V\n      "),e("p"),t._v("\n    Version:\n      "+t._s(t.version)+"\n  ")])])],1)},Gt=[];function Ht(t){e("a549")}var Wt=!1,Vt=Ht,Yt=null,Kt=null,Qt=Object(s["a"])(Bt,zt,Gt,Wt,Vt,Yt,Kt),Xt=Qt.exports,Zt={name:"App",components:{FrontEnd:Xt},data:function(){return{}}},tn=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("front-end")],1)},nn=[];function en(t){e("92d8")}var on,an=!1,rn=en,sn=null,dn=null,ln=Object(s["a"])(Zt,tn,nn,an,rn,sn,dn),cn=ln.exports,pn=e("a4bb"),un=e.n(pn),vn=(e("3b2b"),e("a481"),e("795b")),fn=e.n(vn),mn=e("bd86"),hn=(e("7514"),e("bc3a")),bn=e.n(hn),_n=e("a7fe"),gn=e.n(_n);o["a"].use(C["a"]),o["a"].use(gn.a,bn.a);var yn="http://oh.vsipaddress.com/",wn=yn+"truck/api";console.log(yn);var xn=new C["a"].Store({dbbackend:"REST",endpoint:yn,mapbackend:"GM",state:{selday:"2019-03-07",donors:[],stops:[],trips:[],employees:[],trucks:[],geocodes:{}},mutations:(on={ADD_EMPLOYEE:function(t,n){t.employees.push(n)},ADD_DONOR:function(t,n){t.donors.push(n)},ADD_GEOCODE:function(t,n,e){t.geocodes[n]=e},ADD_STOP:function(t,n){t.stops.push(n)},ADD_TRIP:function(t,n){t.trips.push(n)},NEST_ORDER_IN_STOP:function(t,n){for(var e in n)console.log(e),console.log(n[e])},NEST_TRIP_IN_STOP:function(t,n,e){n.trip=t.trips.find(function(t){return t.id===e})},NEST_DONOR_IN_STOP:function(t,n,e){n.donor=t.donors.find(function(t){return t.id===e})},NEST_EMPLOYEE_IN_TRIP:function(){}},Object(mn["a"])(on,"NEST_EMPLOYEE_IN_TRIP",function(){}),Object(mn["a"])(on,"NEST_EMPLOYEE_IN_TRIP",function(){}),Object(mn["a"])(on,"SET_DONORS",function(t,n){t.donors=n}),Object(mn["a"])(on,"SET_DONATIONS",function(t,n){t.donations=n}),Object(mn["a"])(on,"SET_EMPS",function(t,n){t.employees=n}),Object(mn["a"])(on,"SET_STOPS",function(t,n){var e=[];for(var o in n){var a=n[o];a["Donor"]=t.donors.find(function(t){return t.id===a.RequesterId}),e.push(a)}t.stops=e}),Object(mn["a"])(on,"SET_TRIPS",function(t,n){t.trips=n}),Object(mn["a"])(on,"SET_TRUCKS",function(t,n){t.trucks=n}),Object(mn["a"])(on,"UPDATE_STOPLIST_ORDER",function(t,n){t.stops=n}),Object(mn["a"])(on,"UPDATE_STOP",function(t,n){t.stops.filter(function(t){return t.id==n})}),Object(mn["a"])(on,"UPDATE_SEL_TRIP",function(t,n){t.selday=n}),on),actions:{changeSelTrip:function(t,n){var e=t.commit;e("UPDATE_SEL_TRIP",n)},geoCode:function(t,n){var e=t.commit;t.state;return new fn.a(function(t,o){var a=n.replace(new RegExp(" ","g"),"_"),i=yn+"truck/geo/"+a+"/",r={method:"GET",url:i};bn()(r).then(function(o){e("ADD_GEOCODE",n,o.data),t(o)}).catch(function(t){o(t)})})},loadGeoCodes:function(t,n){t.commit;var e=t.dispatch,o=un()(n);if(o.length>0)for(var a in n){var i=n[a];e("geoCode",i)}},loadDataFrom:function(t){var n=t.commit,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"REST";"REST"==e&&(bn.a.get(wn+"/donors/").then(function(t){return t.data}).then(function(t){for(var n in t)t[n]["pos"]={lat:null,lng:null};return t}).then(function(t){n("SET_DONORS",t)}),bn.a.get(wn+"/trips/").then(function(t){return t.data}).then(function(t){n("SET_TRIPS",t)}),bn.a.get(wn+"/donations/").then(function(t){return t.data}).then(function(t){n("SET_DONATIONS",t)}),bn.a.get(wn+"/trucks/").then(function(t){return t.data}).then(function(t){n("SET_TRUCKS",t)}),bn.a.get(wn+"/employees/").then(function(t){return t.data}).then(function(t){n("SET_EMPS",t)}),bn.a.get(wn+"/stops/").then(function(t){return t.data}).then(function(t){n("SET_STOPS",t)}))},loadDonors:function(t){t.commit},minDist:function(t,n){t.commit;return new fn.a(function(t,e){console.log("test");try{var o=[];for(var a in n){var i=n[a];o.push([i["lng"],i["lat"]].join(","))}var r=o.join(";"),s=yn+"truck/min/"+r+"/";console.log(s)}catch(l){e(l)}var d={method:"GET",url:s};bn()(d).then(function(t){return t.data}).then(function(n){return t(n)}).catch(function(t){return e(t)})})},nestOrders:function(t,n){var e=t.commit;console.log("test"),e("NEST_ORDER_IN_STOP",n)},updateStopList:function(t,n){var e=t.commit;e("UPDATE_STOPLIST_ORDER",n)},updateStop:function(t,n){var e=t.commit;e("UPDATE_STOP",n["id"])},postData:function(t,n){t.commit,arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}}),Sn=xn,kn=e("1881"),On=e.n(kn),En=e("e11e");e("6cc5");o["a"].use(On.a),o["a"].config.productionTip=!1,delete En["Icon"].Default.prototype._getIconUrl,En["Icon"].Default.mergeOptions({iconRetinaUrl:e("584d"),iconUrl:e("6397"),shadowUrl:e("e2b9")}),new o["a"]({el:"#app",store:Sn,components:{App:cn},template:"<App/>"})},"5cbe":function(t,n,e){var o=e("1ee7");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=e("2fb2").default;a("2ebd7007",o,!0,{})},"66f2":function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,"\nh1, h2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n.newstopwindow{\n}\n#spacing{\npadding:20px;\nborder-radius:10px;\n}\n.ghost{\n  opacity:0.7;\n  background: #eefbff;\n}\n.bin{\n  display:grid;\n  width:100%;\n  grid-template-columns:repeat(auto-fill,300px);\n  grid-template-rows:1000px;\n}\n\n\n",""])},"80af":function(t,n,e){var o=e("23bf");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=e("2fb2").default;a("4374f9f3",o,!0,{})},"92d8":function(t,n,e){var o=e("98b9");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=e("2fb2").default;a("b2fc37f4",o,!0,{})},"956c":function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,"\n.settingssub{\n\tmargin-left:20px;\n}\n.settingsheader{\n\tmargin-left:5px;\n}\ninput[type=radio](not){\n\twidth:20px;\n}\n.backrad{\n\twidth:20px;\n}\n",""])},"98b9":function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,"\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #00FF00;\n  margin-top: 60px;\n}\n",""])},"9af9":function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,'\n.tripbtns[data-v-a60d6b8e]{\n  grid-area:btns;\n}\n.tripslot[data-v-a60d6b8e]{\n  width:50px;\n  height:50px;\n  border:4px solid black;\n  margin:10px;\n  display:inline-block;\n  border-radius:5px;\n}\n.empty[data-v-a60d6b8e]{\n  background-color:red;\n}\n.filled[data-v-a60d6b8e]{\n  background-color:cyan;\n}\n.tripdate[data-v-a60d6b8e]{\n  font-size:30px;\n  text-decoration:underline;\n  text-transform:capitalize;\n  text-shadow: 2px 3px 10px silver;\n  color:#ff0000;\n  grid-area:lbl;\n}\n.triptruck[data-v-a60d6b8e]{\n  grid-area:truck;\n}\n.tripmap[data-v-a60d6b8e]{\n  grid-area:map;\n}\n.tripgrid[data-v-a60d6b8e]{\n  //display:inline-grid;\n  margin:40px;\n  //grid-template-columns: repeat(3, auto [col-start]);\n}\n.tripcontent[data-v-a60d6b8e]{\n  display:grid;\n  grid-area:stops;\n  grid-template-columns:1fr 1fr;\n}\n.trip[data-v-a60d6b8e]{\n  background-color:#eeeeee;\n  width:1000px;\n  margin:5px;\n  border-radius:20px;\n  display:grid;\n  grid-template-areas:"lbl lbl lbl"\n                      "truck . ."\n                      "stops map map"\n                      "stops map map"\n                      "stops map map"\n                      "btns btns btns";\n}\n.unassignedbin[data-v-a60d6b8e]{\n  background-color:#f9f9f9;\n  border-radius:10px;\n  margin:10px;\n}\n',""])},a549:function(t,n,e){var o=e("66f2");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=e("2fb2").default;a("ca0b92cc",o,!0,{})},ac81:function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,'\n.card[data-v-15ffc494]{\nbackground-color:#dddddd;\nborder:2px solid #999999;\nposition:relative;\nmin-width: 100px;\nmax-width: 300px;\n-webkit-box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);\n        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);\n-webkit-transition: 0.3s;\ntransition: 0.3s;\nborder-radius: 5px;\n}\n.phone[data-v-15ffc494] {\ncolor: #42b983;\n}\n.phone[data-v-15ffc494]:before{\ncontent:"";\ndisplay:inline;\nwidth:10px;\nheight:10px;\ncolor:#ff0000;\n}\n',""])},ada2:function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},b6dd:function(t,n,e){var o=e("9af9");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=e("2fb2").default;a("44786344",o,!0,{})},c685:function(t,n,e){var o=e("120f");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=e("2fb2").default;a("2535af2c",o,!0,{})},e6c7:function(t,n,e){var o=e("956c");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=e("2fb2").default;a("da098608",o,!0,{})},faa9:function(t,n,e){var o=e("ac81");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=e("2fb2").default;a("742c88c0",o,!0,{})}});
//# sourceMappingURL=app.fe009282.js.map